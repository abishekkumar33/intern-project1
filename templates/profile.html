<!DOCTYPE html>
<html>
<head>
<title>My Profile</title>
<style>
body{
    background:linear-gradient(135deg,#1f2933,#111827); 
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    color:#fff;
    font-family:Segoe UI;
}
.card{
    background:rgba(255,255,255,0.08);
    padding:30px;
    border-radius:18px;
    width:420px;
    text-align:center;
}
img{
    width:110px;
    height:110px;
    border-radius:50%;
    object-fit:cover;
    margin-bottom:15px;
}
button{
    width:100%;
    padding:12px;
    margin-top:12px;
    border:none;
    border-radius:25px;
    font-weight:600;
    cursor:pointer;
}
.primary{background:#3b82f6;color:#fff;}
.secondary{background:#22c55e;color:#000;}
.danger{background:#ef4444;color:#fff;}

/* link that looks like a button */
.back{
    display:block;
    width:100%;
    text-align:center;
    margin-top:12px;
    padding:12px;
    border-radius:25px;
    background:#3b82f6;
    color:#fff;
    font-weight:600;
    text-decoration:none;
}
.back:hover{
    background:#2563eb;
}
</style>
</head>

<body>

<div class="card">

    <img src="/static/profile/{{ user.profile_pic }}" alt="Profile">

    <h2>{{ user.username }}</h2>
    <p>{{ user.email }}</p>
    <p><b>Role:</b> {{ session['role'] }}</p>

    <button class="secondary" onclick="location.href='/edit-profile'">Edit Profile</button>

    <button class="primary" onclick="location.href='/change-password'">Change Password</button>

    <button class="danger" onclick="location.href='/upload-photo'">Upload Profile Photo</button>


    <!-- ROLE-AWARE DASHBOARD BUTTON -->
    {% if session.get('role') == 'staff' %}
    <a href="{{ url_for('staff_dashboard') }}" class="back">Back to Dashboard</a>
    {% elif session.get('role') == 'student' %}
    <a href="{{ url_for('student_dashboard') }}" class="back">Back to Dashboard</a>
    {% endif %}

</div>

</body>
</html>
